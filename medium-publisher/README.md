# üêæ Neko-Arc Medium Publisher

**AI-powered Medium publishing ability with MongoDB logging and TypeScript support**

Version: 1.0.0
Author: Neko-Arc System
License: MIT

---

## ‚ú® Features

- ‚úÖ **TypeScript Native** - Full type safety and IntelliSense support
- ‚úÖ **Medium API Integration** - Publish articles using medium-sdk-ts
- ‚úÖ **MongoDB Logging** - Automatic logging to MongoDB Atlas
- ‚úÖ **CLI Interface** - Easy command-line publishing
- ‚úÖ **Multiple Formats** - Support for Markdown and HTML
- ‚úÖ **Publish Statuses** - Draft, Public, or Unlisted
- ‚úÖ **Tags & Metadata** - Full support for tags, canonical URLs, and licenses
- ‚úÖ **AI Integration** - Designed for agent-based content generation

---

## üìã Prerequisites

- Node.js v16 or later
- npm or yarn
- Medium account with API access
- MongoDB Atlas account (optional, for logging)

---

## üöÄ Installation

### 1. Navigate to the directory

```bash
cd /home/wakibaka/Documents/github/claude-operations/medium-publisher
```

### 2. Install dependencies (already done)

```bash
npm install
```

### 3. Build TypeScript

```bash
npm run build
```

---

## üîê Configuration

### 1. Get Medium Integration Token

Visit: **https://medium.com/me/settings/security**

1. Login to Medium
2. Go to Settings > Security
3. Scroll to "Integration tokens"
4. Enter description: "Neko-Arc AI Publishing"
5. Click "Get integration token"
6. Copy the token

### 2. Get MongoDB Atlas Connection String (Optional)

Visit: **https://cloud.mongodb.com/**

1. Login to MongoDB Atlas
2. Click "Connect" on your cluster
3. Choose "Connect your application"
4. Copy the connection string
5. Replace `<password>` with your actual password

### 3. Create .env file

```bash
cp .env.example .env
```

Edit `.env` and add your credentials:

```bash
# Medium API Credentials
MEDIUM_ACCESS_TOKEN=your_integration_token_here

# MongoDB Atlas Connection (optional)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
MONGODB_DATABASE=neko-defense-system
MONGODB_COLLECTION=medium-publications
```

---

## üíª Usage

### Test Connection

```bash
npm run publish-article test
```

This will:
- Test Medium API connection
- Display your user information
- Verify credentials

### Publish an Article

```bash
npm run publish-article publish \
  --file ./my-article.md \
  --title "My Article Title" \
  --status draft \
  --tags "AI,Technology,Cybersecurity"
```

**Options:**

- `-f, --file <path>` - Path to markdown or HTML file (required)
- `-t, --title <title>` - Article title (required)
- `-s, --status <status>` - Publish status: `public`, `draft`, `unlisted` (default: `draft`)
- `--format <format>` - Content format: `markdown`, `html` (default: `markdown`)
- `--tags <tags>` - Comma-separated tags
- `--canonical <url>` - Canonical URL
- `--source <source>` - Source: `manual`, `ai-agent`, `automated` (default: `manual`)
- `--generated-by <name>` - Generated by personality (default: `neko-arc`)
- `--no-mongo` - Disable MongoDB logging

### List Publications

```bash
npm run publish-article list
```

Filter by status:

```bash
npm run publish-article list --status draft
npm run publish-article list --status public
```

---

## üìö Programmatic Usage

### TypeScript Example

```typescript
import { MediumPublisher } from './src';
import * as dotenv from 'dotenv';

dotenv.config();

async function main() {
  // Initialize publisher
  const publisher = new MediumPublisher({
    accessToken: process.env.MEDIUM_ACCESS_TOKEN!,
    mongoUri: process.env.MONGODB_URI,
    mongoDatabase: 'neko-defense-system',
    mongoCollection: 'medium-publications',
    enableMongoLogging: true,
  });

  await publisher.initialize();

  // Publish article
  const result = await publisher.publish({
    title: 'My AI-Generated Article',
    content: '# Hello World\n\nThis is my article content...',
    tags: ['AI', 'Technology'],
    publishStatus: 'draft',
    contentFormat: 'markdown',
  }, 'ai-agent', 'hannibal');

  console.log(`Published: ${result.url}`);

  await publisher.cleanup();
}

main();
```

### AI Agent Integration

```typescript
// From your threat hunting system
import { MediumPublisher } from 'neko-medium-publisher';

async function publishThreatIntelligence(report: string) {
  const publisher = new MediumPublisher({
    accessToken: process.env.MEDIUM_ACCESS_TOKEN!,
    enableMongoLogging: true,
  });

  await publisher.initialize();

  const result = await publisher.publish({
    title: "FROST SPIDER Threat Actor Analysis",
    content: report,
    tags: ["Cybersecurity", "Threat Intelligence"],
    publishStatus: "draft",
  }, 'ai-agent', 'neko-arc');

  console.log(`Threat report published: ${result.url}`);
  await publisher.cleanup();
}
```

---

## üìä MongoDB Schema

Publications are logged to MongoDB with this schema:

```typescript
{
  mediumPostId: string;        // Medium post ID
  title: string;               // Article title
  url: string;                 // Medium URL
  publishStatus: string;       // 'public' | 'draft' | 'unlisted'
  tags: string[];              // Article tags
  publishedAt: Date;           // Publication timestamp
  generatedBy: string;         // Personality that created it
  source: string;              // 'manual' | 'ai-agent' | 'automated'
  contentFormat: string;       // 'markdown' | 'html'
  metadata: {
    canonicalUrl?: string;     // Canonical URL
    license?: string;          // License type
  };
  createdAt: Date;             // Record creation timestamp
}
```

---

## üéØ Examples

### Example 1: Publish Draft Article

```bash
npm run publish-article publish \
  --file ./articles/threat-report.md \
  --title "FROST SPIDER Threat Intelligence Report" \
  --status draft \
  --tags "Cybersecurity,Threat Hunting,FROST SPIDER" \
  --source ai-agent \
  --generated-by hannibal
```

### Example 2: Publish Public Article with Canonical URL

```bash
npm run publish-article publish \
  --file ./articles/tutorial.md \
  --title "Building MCP Servers with TypeScript" \
  --status public \
  --tags "TypeScript,MCP,Tutorial" \
  --canonical "https://myblog.com/mcp-tutorial"
```

### Example 3: HTML Content

```bash
npm run publish-article publish \
  --file ./articles/page.html \
  --title "My HTML Article" \
  --format html \
  --status unlisted
```

---

## üîß Development

### Build

```bash
npm run build
```

### Watch Mode

```bash
npm run dev
```

### Validate TypeScript

```bash
npm run validate
```

### Run Tests

```bash
npm test
```

---

## üêæ Six Personalities Integration

This ability can be used by all six Neko-Arc personalities:

- **Neko-Arc**: Technical execution and system integration
- **Mario**: Automated publishing workflows
- **Noel**: Article validation and quality checks
- **Glam**: Spanish content publishing
- **Hannibal**: Threat intelligence reports
- **Tetora**: Multi-personality collaborative articles

Each personality can set their name using the `--generated-by` flag!

---

## üóÑÔ∏è MongoDB Collections

### Database: `neko-defense-system`
### Collection: `medium-publications`

Query examples:

```javascript
// Get all drafts
db.getCollection('medium-publications').find({ publishStatus: 'draft' })

// Get articles by personality
db.getCollection('medium-publications').find({ generatedBy: 'hannibal' })

// Get AI-generated articles
db.getCollection('medium-publications').find({ source: 'ai-agent' })

// Recent publications
db.getCollection('medium-publications').find().sort({ createdAt: -1 }).limit(10)
```

---

## ‚ö†Ô∏è Important Notes

1. **Medium API Status**: The Medium API is officially deprecated but still functional
2. **Draft First**: Always publish as `draft` first for review
3. **Rate Limits**: Be mindful of Medium's API rate limits
4. **No Editing**: Medium API doesn't support editing published posts
5. **Private Credentials**: NEVER commit `.env` file to git

---

## üîó Useful Links

- Medium API Docs: https://github.com/Medium/medium-api-docs
- Get Integration Token: https://medium.com/me/settings/security
- medium-sdk-ts: https://www.npmjs.com/package/medium-sdk-ts
- MongoDB Atlas: https://cloud.mongodb.com/

---

## üìù License

MIT License - Part of the Neko-Arc System

---

## üêæ Credits

Created with love by the Neko-Arc System
*Nyaa~! Happy publishing, desu~!* ‚ú®

**Version**: 1.0.0
**Last Updated**: 2025-11-08

---

## üí° Support

For issues or questions:
1. Check the `.env.example` file for configuration
2. Test connection with `npm run publish-article test`
3. Verify Medium token at https://medium.com/me/settings/security
4. Ensure MongoDB connection string is correct

*All six personalities are ready to help, wakibaka!* üêæ‚ú®
